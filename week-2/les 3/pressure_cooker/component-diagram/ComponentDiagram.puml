@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

title Component diagram voor de backend container voor de "Confidentiality" ontwerpvraag

Container(webapp, "Front-end", "JS/React", "Behandelt veilige communicatie met verouderde externe APIs.")

Container_Boundary(apiComponents, "API Application Container") {
    Component(authService, "AuthService", "Spring Security", "Autorizatie en authenticatie van gebruikers.")
    Component(controller, "Gateway Controller", "Spring REST Controller", "Behandelt verzoeken van verouderde API's.")
    Component(service, "Gateway Service", "Spring Service", "Behandeld de communicatie met de verouderde API's.")
}

System_Ext(wiremock, "WireMock", "Simuleert de authenticatie- en autorisatieservice voor testdoeleinden")
System_Ext(externalApi, "Verouderde Externe API", "Een verouderde API zonder beveiliging")

Rel(webapp, controller, "Verstuurt verzoeken naar verouderde api", "JSON/HTTPS")
Rel(controller, authService, "Verstuurt login-verzoek", "JSON/HTTPS")
Rel(authService, wiremock, "Valideert gebruikersgegevens en genereert token", "JWT")
Rel(controller, service, "Delegeert naar Gateway Service")
Rel(service, externalApi, "Communiceert met de externe API", "HTTP/JSON")

SHOW_LEGEND()
@enduml