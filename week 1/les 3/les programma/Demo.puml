@startuml

!include <C4/C4>
!include <C4/C4_Context>
!include <C4/C4_Container>

' convert it with additional command line argument -DRELATIVE_INCLUDE="./.." to use locally
!if %variable_exists("RELATIVE_INCLUDE")
  !include %get_variable_value("RELATIVE_INCLUDE")/C4_Container.puml
!else
  !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
!endif

SHOW_PERSON_OUTLINE()

AddRelTag("sync/async", $textColor=$ARROW_FONT_COLOR, $lineColor=$ARROW_COLOR, $lineStyle=DottedLine())

title Container diagram voor het Ansie systeem

Person(student, Student, "Een persoon die een toets wil maken")

System_Boundary("key_boundary", "Ansie applicatie", $tags="") {
Container(webapp, "Webapplicatie", "De UI van de applicatie", "React/Vue")
Container(backend, "Backend", "Communiceert met de webapplicatie met REST API.", "Java, Spring Boot")
ContainerDb(database, "Database", $techn="Database waar alle vragen worden opgeslagen.", $descr="Stores â€¦", $tags="", $link="")
}

Container(schoolyear, "schoolyear", "schoolyear applicatie")
Container(osiris, "Osiris", "Studenteninformatiesysteem van de HAN", "SOAP")

Rel(student, webapp, "Bezoekt ansie.han.nl", "HTTP")
Rel(webapp, backend, "Communiceert met REST API", "HTTP")
Rel(backend, database, "Leest en schrijft data", "JDBC")
Rel(backend, osiris, "Haalt studentgegevens op", "SOAP")
Rel(webapp, schoolyear, "Haalt schooljaar op")
@enduml