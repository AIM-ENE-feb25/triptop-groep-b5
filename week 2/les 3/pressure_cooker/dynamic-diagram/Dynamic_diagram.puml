@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
' convert it with additional command line argument -DRELATIVE_INCLUDE="./.." to use locally
!if %variable_exists("RELATIVE_INCLUDE")
  !include %get_variable_value("RELATIVE_INCLUDE")/C4_Container.puml
!else
  !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
!endif

SHOW_PERSON_OUTLINE()

AddRelTag("sync/async", $textColor=$ARROW_FONT_COLOR, $lineColor=$ARROW_COLOR, $lineStyle=DottedLine())

LAYOUT_WITH_LEGEND()

title Dynamic Component Diagram voor de API Application container van verouderde API's


Container(webapp, "Front-end", "JS/React", "Behandelt veilige communicatie met verouderde externe APIs.")

Container_Boundary(apiComponents, "API Application Container") {
    Component(controller, "Gateway controller", "Spring REST Controller", "Behandelt verzoeken naar verouderde API's.")
    Component(service, "Gateway service", "Spring service", "Controleert of gebruiker toegang heeft.")
}

System_Ext(externalApi, "Verouderde Externe API", "Een verouderde API zonder beveiliging", "External System")

webapp -> controller : "Verzendt API-verzoek"
controller -> service : "Delegeert naar"
service -> externalApi : "Communiceert met de externe API", "HTTP"

@enduml